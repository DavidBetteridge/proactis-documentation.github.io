<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="David Betteridge">
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Nominal Validation - Technical Documentation</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Technical Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">PROACTIS</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">P2P <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../sso/">Single Sign On (SSO)</a>
</li>
                            
<li >
    <a href="../punchout/">PunchOut / Marketplaces</a>
</li>
                            
<li class="active">
    <a href="./">Nominal Validation</a>
</li>
                            
<li >
    <a href="../budgetchecking/">Budget Checking</a>
</li>
                            
<li >
    <a href="../customtab/">Custom Tabs</a>
</li>
                            
<li >
    <a href="../addins/">Addins</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Imaging Integration</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../genericimaging/">Generic Imaging</a>
</li>
            
<li >
    <a href="../customimaging/">Custom Imaging</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../commitments/">Commitment Posting</a>
</li>
                            
<li >
    <a href="../invoicePosting/">Invoice Posting</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Import APIs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../acceptanceGateway/">Acceptances</a>
</li>
            
<li >
    <a href="../expensesGateway/">Expenses</a>
</li>
            
<li >
    <a href="../purchaseInvoiceGateway/">Purchase Invoices</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../placeholder/">Spend Analytics</a>
                    </li>
                    <li >
                        <a href="../../placeholder/">APF</a>
                    </li>
                    <li >
                        <a href="../../placeholder/">S2C</a>
                    </li>
                    <li >
                        <a href="../../placeholder/">DueNorth</a>
                    </li>
                    <li >
                        <a href="../../placeholder/">System4</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../punchout/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../budgetchecking/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/proactis-documentation/ExampleApplications">CodeExamples
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#nominal-validation">Nominal Validation</a></li>
            <li><a href="#overview">Overview</a></li>
            <li><a href="#implementation-steps">Implementation Steps</a></li>
            <li><a href="#example">Example</a></li>
            <li><a href="#deployment">Deployment</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="nominal-validation">Nominal Validation</h1>
<h2 id="overview">Overview</h2>
<p>The core PROACTIS P2P product includes the functionality for complex nominal rules to be defined using the concept of nominal groups.</p>
<p>In some situations there might be a requirement to also validate the nominal coding entered against a purchase order line against an external source,  such as a finance system.</p>
<p>In a lot of cases this can be configured using the <strong>Generic Nominal Validation</strong> snapin directly within the product.  This is the preferred approach as all the configuration is held within the database and the generic nominal validation module automatically provides extra features such as caching.</p>
<p>If <strong>Generic Nominal Validation</strong> is not suitable for your needs then a custom DLL can be implemented providing you with complete control of the process.</p>
<hr />
<h2 id="implementation-steps">Implementation Steps</h2>
<ul>
<li>
<p>Create a new C# Class Library project called xyzNominalValidation. ( <em>xyz</em> can be anything)</p>
</li>
<li>
<p>Add a reference to <strong>Purchasing Server\bin\PROACTIS.P2P.grsCustInterfaces.dll</strong></p>
</li>
<li>
<p>Add a class called <strong>Services</strong> which implements the <strong>grsCustInterfaces.INominals</strong> interface.</p>
</li>
<li>
<p>Write an implementation of the <strong>grsCustInterfaces.INominals.NominalCheck</strong> method.</p>
</li>
</ul>
<pre><code class="C#">bool grsCustInterfaces.INominals.NominalCheck(string NominalsXML, string POXML, ref string ErrorNominals)
</code></pre>

<h3 id="arguments">Arguments</h3>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Direction</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>NominalsXML</td>
<td>In</td>
<td>An xml document containing the nominals which need to be validated.  This also includes details of the database,  company and user.</td>
</tr>
<tr>
<td>POXML</td>
<td>In</td>
<td>An xml document containing the entire purchase order to validate.  By default this argument is blank unless the company-wide setting is enabled.</td>
</tr>
<tr>
<td>ErrorNominals</td>
<td>Out</td>
<td>If the nominals fail validation,  then you should return an xml document listing the failing nominals.</td>
</tr>
</tbody>
</table>
<h3 id="return-value">Return Value</h3>
<p>The function should return True if all nominals are valid and False if one or more nominals are invalid.</p>
<h3 id="nominals-xml">Nominals XML</h3>
<p>Below is an example of the xml passed to the <strong>NominalsXML</strong> argument.</p>
<pre><code class="xml">&lt;grs:NominalCheck xmlns:grs=&quot;http://www.getrealsystems.com/xml/xml-ns&quot;&gt;
    &lt;grs:Database grs:Server=&quot;Develop07&quot; grs:DatabaseName=&quot;PROACTISIII&quot;/&gt;

    &lt;grs:General grs:UserGUID=&quot;{02E0D6D9-B655-11D5-91D6-000629864A98}&quot; grs:CompanyGUID=&quot;{A2FEEDC5-978F-11D5-8C5E-0001021ABF9B}&quot;/&gt;

    &lt;grs:Nominals&gt;
    &lt;grs:Nominal grs:Coding=&quot;1720&quot; grs:Element1=&quot;1720&quot; grs:Element2=&quot;&quot; grs:Element3=&quot;&quot; grs:Element4=&quot;&quot; grs:Element5=&quot;&quot; grs:Element6=&quot;&quot; grs:Element7=&quot;&quot; grs:El
    ement8=&quot;&quot; grs:ValidNominal=&quot;False&quot;/&gt;

        &lt;grs:Nominal grs:Coding=&quot;4744.1100&quot; grs:Element1=&quot;4744&quot; grs:Element2=&quot;1100&quot; grs:Element3=&quot;&quot; grs:Element4=&quot;&quot; grs:Element5=&quot;&quot; grs:Element6=&quot;&quot; grs:Element7=&quot;&quot; grs:Element8=&quot;&quot; grs:ValidNominal=&quot;False&quot;/&gt;
    &lt;/grs:Nominals&gt;
&lt;/grs:NominalCheck&gt;
</code></pre>

<h3 id="poxml">POXML</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The POXML argument is populated with an xml document based on a internal product structure which may change over time from release to release.  It is recommended that you only extract information that you cannot obtain from elsewhere,  and also code defensively. </p>
</div>
<h3 id="error-nominals">Error Nominals</h3>
<p>The xml for the returned invalid nominals takes a similar structure to the NominalsXML argument.  For example:</p>
<pre><code class="xml">&lt;grs:Nominals xmlns:grs=&quot;http://www.getrealsystems.com/xml/xml-ns&quot;&gt;
   &lt;grs:Nominal grs:Coding=&quot;1720&quot; grs:Element1=&quot;1720&quot; grs:Element2=&quot;&quot; grs:Element3=&quot;&quot; grs:Element4=&quot;&quot; grs:Element5=&quot;&quot; grs:Element6=&quot;&quot; grs:Element7=&quot;&quot; grs:Element8=&quot;&quot; grs:ValidNominal=&quot;False&quot;/&gt;
   &lt;grs:Nominal grs:Coding=&quot;4744.1100&quot; grs:Element1=&quot;4744&quot; grs:Element2=&quot;1100&quot; grs:Element3=&quot;&quot; grs:Element4=&quot;&quot; grs:Element5=&quot;&quot; grs:Element6=&quot;&quot; grs:Element7=&quot;&quot; grs:Element8=&quot;&quot; grs:ValidNominal=&quot;False&quot;/&gt;
&lt;/grs:Nominals&gt;
</code></pre>

<hr />
<h2 id="example">Example</h2>
<p>See the <a href="https://github.com/proactis-documentation/ExampleApplications/tree/master/P2P/Nominal%20Validation">example application</a> for a complete implementation.</p>
<hr />
<h2 id="deployment">Deployment</h2>
<p>Your dll should be complied (and named xyzNominalValidation.dll) and then copied into your <strong>PROACTIS P2P/Plugins</strong>  (or <strong>Plugins/[database-title]</strong>) folder.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>(C) PROACTIS Group Ltd - All Rights Reserved</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
